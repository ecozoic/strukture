// https://leetcode.com/problems/clumsy-factorial/
export default function clumsy(N: number): number {
  // N = 1 -> 1                    N
  // N = 2 -> 2 * 1 -> 2              N
  // N = 3 -> 3 * 2 / 1 -> 6          2N or N + 3
  // N = 4 -> 4 * 3 / 2 + 1 -> 7          N + 3
  // N = 5 -> 5 * 4 / 3 + 2 - 1 -> 7         N + 2
  // N = 6 -> 6 * 5 / 4 + 3 - 2 * 1 -> 8         N + 2
  // N = 7 -> 7 * 6 / 5 + 4 - 3 * 2 / 1 -> 6        N - 1
  // N = 8 -> 8 * 7 / 6 + 5 - 4 * 3 / 2 + 1 -> 9      N + 1
  // N = 9 -> 9 * 8 / 7 + 6 - 5 * 4 / 3 + 2 - 1 -> 11   N + 2
  // N = 10 -> 10 * 9 / 8 + 7 - 6 * 5 / 4 + 3 - 2 * 1 -> 12  N + 2
  // N = 11 -> 11 * 10 / 9 + 8 - 7 * 6 / 5 + 4 - 3 * 2 / 1 -> 10 N - 1
  // N = 12 -> 12 * 11 / 10 + 9 - 8 * 7 / 6 + 5 - 4 * 3 / 2 + 1 ->13 N + 1

  // 10 * 9/8 = 11
  // 9 * 8/7 = 10
  // 8 * 7/6 = 9
  // 7 * 6/5 = 8
  // 6 * 5/4 = 7
  // 5 * 4/3 = 6

  // i * (i - 1) / (i - 2) = i + 1 when i>=5
  // i + 1 + (i - 3) - (i - 4)

  if (N <= 2) {
    return N;
  } else if (N <= 4) {
    return N + 3;
  } else if (N % 4 === 1 || N % 4 === 2) {
    return N + 2;
  } else if (N % 4 === 3) {
    return N - 1;
  } else {
    return N + 1;
  }
}
